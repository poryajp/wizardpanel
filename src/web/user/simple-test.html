<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Ø³Ø§Ø¯Ù‡</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            text-align: center;
        }

        .message {
            background: white;
            padding: 15px;
            margin: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .success {
            color: green;
        }

        .error {
            color: red;
        }
    </style>
</head>

<body>
    <h2>ğŸ” ØªØ³Øª Ø§ØªØµØ§Ù„</h2>
    <div id="messages"></div>

    <script>
        const messages = document.getElementById('messages');

        function addMessage(text, type = 'info') {
            const div = document.createElement('div');
            div.className = 'message ' + type;
            div.innerHTML = text;
            messages.appendChild(div);
        }

        // Test 1: JavaScript works
        addMessage('âœ… JavaScript is working!', 'success');

        // Test 2: Check if we're in Telegram
        setTimeout(() => {
            if (window.Telegram && window.Telegram.WebApp) {
                addMessage('âœ… Telegram WebApp detected', 'success');
                addMessage('Platform: ' + window.Telegram.WebApp.platform);
                addMessage('Version: ' + window.Telegram.WebApp.version);

                if (window.Telegram.WebApp.initData) {
                    addMessage('âœ… initData exists (length: ' + window.Telegram.WebApp.initData.length + ')', 'success');
                    addMessage('<a href="index.php">Click here to go to main page</a>');
                } else {
                    addMessage('âŒ initData is EMPTY', 'error');
                }
            } else {
                addMessage('âŒ Telegram WebApp NOT found', 'error');
                addMessage('window.Telegram = ' + (window.Telegram ? 'exists' : 'undefined'));
            }
        }, 1000);
    </script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</body>

</html>